# zlug
source $HOME/.zplug/init.zsh

zplug "esc/conda-zsh-completion"
zplug "peterhurford/up.zsh"
zplug "lukechilds/zsh-nvm"
zplug "wbingli/zsh-wakatime"
zplug "jeffreytse/zsh-vi-mode"

if ! zplug check --verbose; then
    printf "Install? [y/N]: "
    if read -q; then
        echo; zplug install
    fi
fi

zplug load

# Customize

zstyle ':completion:*' matcher-list 'm:{[:lower:]}={[:upper:]}'
setopt autocd

alias info='info --vi-keys'
alias vi=nvim
alias vimdiff='nvim -d'
alias em='emacs -nw'
alias tig='tig --all'
alias bc='bc -l'
alias def='myougiden'
alias coin='coinmon -c jpy'
alias open='xdg-open'
alias dstat='dstat -am'
alias ls='ls --color'
alias sl=ls
alias iv=vi
alias say=espeak
alias matrix='cmatrix -ab -u 3'
alias vm='vmstat -t -S M 1'
alias luaf='lua-format --indent-width=2 -i'

export KEYTIMEOUT=1
export EDITOR='vi'
export VISUAL='vi'
export TERM='xterm-256color'
bindkey -M viins '^?' backward-delete-char
bindkey -M viins '^U' backward-kill-line
bindkey -M viins '^K' kill-whole-line
bindkey -M viins '^W' backward-delete-word
bindkey -M vicmd '^V' edit-command-line
bindkey -M emacs '^V' edit-command-line

wttr()
{
    # change Paris to your default location
    local request="wttr.in/${1-kashiwara}"
    request+='?qAF&lang=zh'
    [ "$COLUMNS" -lt 125 ] && request+='&n'
    curl --compressed "$request"
}

export PATH=/home/linuxbrew/.linuxbrew/bin:$HOME/.pyenv/bin:$HOME/.local/bin:$HOME/go/bin:$PATH

eval "$(pyenv init -)"
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
eval "$(oh-my-posh init zsh --config ~/.config/main.omp.json)"
