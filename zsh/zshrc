source $HOME/.zplug/init.zsh

function zvm_config() {
    ZVM_LINE_INIT_MODE=$ZVM_MODE_INSERT
}

zplug "esc/conda-zsh-completion"
zplug "peterhurford/up.zsh"
zplug "lukechilds/zsh-nvm"
zplug "wbingli/zsh-wakatime"
zplug "jeffreytse/zsh-vi-mode"
zplug "marlonrichert/zsh-autocomplete"

if ! zplug check --verbose; then
    printf "Install? [y/N]: "
    if read -q; then
        echo; zplug install
    fi
fi

zplug load

# Customize
autoload -U select-word-style
select-word-style bash
export WORDCHARS='.-'
bindkey '\t' menu-select "$terminfo[kcbt]" menu-select
bindkey -M menuselect '\t' menu-complete "$terminfo[kcbt]" reverse-menu-complete
setopt autocd

alias info='info --vi-keys'
alias vi=nvim
alias vimdiff='nvim -d'
alias em='emacs -nw'
alias tig='tig --all'
alias bc='bc -l'
alias def='ydcv'
alias coin='coinmon -c jpy'
alias open='xdg-open'
alias dstat='dstat -am'
alias ls='ls --color'
alias sl=ls
alias iv=vi
alias say=espeak
alias matrix='cmatrix -ab -u 3'
alias vm='vmstat -t -S M 1'
alias luaf='lua-format --indent-width=2 -i'

export HISTFILE="$HOME/.zsh_history"
export HISTSIZE=100000
export SAVEHIST=$HISTSIZE
export KEYTIMEOUT=1
export EDITOR='vi'
export VISUAL='vi'
export TERM='xterm-256color'
bindkey -M viins '^?' backward-delete-char
bindkey -M viins '^U' backward-kill-line
bindkey -M viins '^K' kill-whole-line
bindkey -M viins '^W' backward-delete-word
bindkey -M vicmd '^V' edit-command-line
bindkey -M emacs '^V' edit-command-line

wttr()
{
    local request="wttr.in/${1}"
    # request+='?qAF&lang=zh'
    # [ "$COLUMNS" -lt 125 ] && request+='&n'
    curl --compressed "$request"
}

export PATH=/home/tinunkai/go/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib
export PATH=/home/linuxbrew/.linuxbrew/bin:$HOME/.pyenv/bin:$HOME/.local/bin:$HOME/go/bin:$PATH

eval "$(pyenv init -)"
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
eval "$(oh-my-posh init zsh --config ~/.config/main.omp.json)"
source $HOME/.cargo/env
